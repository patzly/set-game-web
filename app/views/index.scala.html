@import de.htwg.se.set.controller.IController
@import de.htwg.se.set.model.GameMode

@(controller: IController, setController: SetController,gameOrSettings: String, state: String)

@main("SET Game") {
    <div class="menu">
        <a href="@routes.SetController.undo()" class="@{if(controller.canUndo) "" else "disabled"}">UNDO</a>
        <a href="@routes.SetController.redo()" class="@{if(controller.canRedo) "" else "disabled"}">REDO</a>
        @if(controller.settings.mode == GameMode.IN_GAME) {
            <a href="@routes.SetController.addColumn()" class=@{if(controller.game.selectedPlayer.isEmpty && (controller.game.columns < 6 || (controller.game.columns >= 6 && controller.game.deck.findSets(controller.game.tableCards).nonEmpty))) "" else "disabled"}">ADD CARDS</a>
            <a href="@routes.SetController.exit()">EXIT</a>
        }
    </div>
    <div class="container">
        @if(controller.settings.mode == GameMode.SETTINGS) {
            <div class="settings">
                <div class="row">
                    <div class="label">
                        <p>PLAYERS</p>
                    </div>
                    <div class="value">
                        <a href="@routes.SetController.removePlayer()" class="@{if(controller.settings.playerCount > 1) "" else "disabled"}">-</a>
                        <p>@{controller.settings.playerCount}</p>
                        <a href="@routes.SetController.addPlayer()" class="@{if(controller.settings.playerCount < 10) "" else "disabled"}">+</a>
                    </div>
                </div>
                <div class="row">
                    <div class="label">
                        <p>EASY MODE</p>
                    </div>
                    <div class="value">
                        <a href="@routes.SetController.switchEasy()">@{if(controller.settings.easy) "ON" else "OFF"}</a>
                    </div>
                </div>
                <a href="@routes.SetController.startGame()" class="button">START GAME</a>
                <a href="@routes.SetController.rules()" class="button">GAME RULES</a>
            </div>
        } else {
            <hr>
            <div class="game">

                <div class="row">
                    <div class="cards-container">
                    @for((card, idx) <- controller.game.tableCards.zipWithIndex) {
                            <!-- Checkbox Input für das Auswählen der Karte -->
                        <input type="checkbox" id="card-@idx" class="card-checkbox">
                            <!-- Label wird mit dem Input verbunden und styled -->
                        <label for="card-@idx" class="card @if(card.selected) {selected}">
                            <p>@Html(setController.ansiToHtml(card.toString))</p>
                        </label>
                    }
                    </div>
                </div>
                <div class="row">
                @helper.form(action = routes.SetController.continue()) {
                    <label for="input">Input:</label>
                    <input type="text" id="input" name="input" required>
                    <button type="submit">Continue</button>
                }
                </div>
                <div class="player-selection-container">
                    <div class="player-selection">
                    @for(i <- 1 to controller.settings.playerCount) {
                        <a href="@routes.SetController.selectPlayer(i)" class="button">PLAYER @i: @controller.game.players(i - 1).sets.length</a>
                    }
                    </div>
                </div>
            </div>
        }
    </div>
}
